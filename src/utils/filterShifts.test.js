import { filterShifts } from "./filterShifts";

const shifts = [
  {
    id: "1236",
    status: "FILLED",
    startDatetime: "2020-11-23T07:50:00+00:00",
    endDatetime: "2020-11-23T14:15:00+00:00",
    applicationIds: [],
    practice: {
      id: "1234",
      name: "Central London Hospital",
    },
    locum: {
      id: "1210",
      firstName: "John",
      lastName: "Smith",
    },
    hourlyRate: 100,
    staffType: "gp",
    staffTypeId: "1",
  },
  {
    id: "1238",
    status: "POSTED",
    startDatetime: "2020-05-19T09:30:00+00:00",
    endDatetime: "2020-05-19T18:15:00+00:00",
    applicationIds: [],
    practice: {
      id: "17718",
      name: "Birmigham Hospital",
    },
    locum: null,
    hourlyRate: 95,
    staffType: "gp",
    staffTypeId: "1",
  },
  {
    id: "1240",
    status: "POSTED",
    startDatetime: "2020-08-21T09:30:00+00:00",
    endDatetime: "2020-08-21T20:30:00+00:00",
    applicationIds: [5512, 5517, 5519, 5590],
    practice: {
      id: "11812",
      name: "The fantastic GP Surgery",
    },
    locum: null,
    hourlyRate: 115,
    staffType: "gp",
    staffTypeId: "1",
  },
  {
    id: "1242",
    status: "DRAFT",
    startDatetime: "2018-05-19T16:50:00+00:00",
    endDatetime: "2018-05-19T19:15:00+00:00",
    applicationIds: [],
    practice: {
      id: "1234",
      name: "Central London Hospital",
    },
    locum: null,
    hourlyRate: 100,
    staffType: "gp",
    staffTypeId: "1",
  },
  {
    id: "1241",
    status: "POSTED",
    startDatetime: "2020-10-19T09:50:00+00:00",
    endDatetime: "2020-10-19T14:15:00+00:00",
    applicationIds: [],
    practice: {
      id: "19212",
      name: "The surgert of the woods",
    },
    locum: null,
    hourlyRate: 100,
    staffType: "Practice Nurse",
    staffTypeId: "2",
  },
  {
    id: "1243",
    status: "POSTED",
    startDatetime: "2020-11-19T16:50:00+00:00",
    endDatetime: "2020-11-19T19:15:00+00:00",
    applicationIds: [],
    practice: {
      id: "23314",
      name: "Grant Tree Medical Centre",
    },
    locum: null,
    hourlyRate: 85,
    staffType: "gp",
    staffTypeId: "1",
  },
  {
    id: "1242",
    status: "POSTED",
    startDatetime: "2020-09-14T08:40:00+00:00",
    endDatetime: "2020-09-14T18:30:00+00:00",
    applicationIds: [5509, 5503],
    practice: {
      id: "199120",
      name: "West London Clinic",
    },
    locum: null,
    hourlyRate: 100,
    staffType: "gp",
    staffTypeId: "1",
  },
  {
    id: "1246",
    status: "POSTED",
    startDatetime: "2021-03-19T08:50:00+00:00",
    endDatetime: "2021-03-19T17:15:00+00:00",
    applicationIds: [5536, 5512, 5590, 5512],
    practice: {
      id: "1234",
      name: "Central London Hospital",
    },
    locum: null,
    hourlyRate: 100,
    staffType: "gp",
    staffTypeId: "1",
  },
  {
    id: "1247",
    status: "EXPIRED",
    startDatetime: "2019-11-22T16:50:00+00:00",
    endDatetime: "2019-11-22T19:15:00+00:00",
    applicationIds: [],
    practice: {
      id: "88101",
      name: "Bromley clinic & hospital",
    },
    locum: null,
    hourlyRate: 110,
    staffType: "gp",
    staffTypeId: "1",
  },
  {
    id: "1249",
    status: "POSTED",
    startDatetime: "2019-11-22T16:50:00+00:00",
    endDatetime: "2019-11-22T19:15:00+00:00",
    applicationIds: [5503, 5504],
    practice: {
      id: "88101",
      name: "Bromley clinic & hospital",
    },
    locum: null,
    hourlyRate: 110,
    staffType: "erp",
    staffTypeId: "3",
  },
  {
    id: "1250",
    status: "POSTED",
    startDatetime: "2020-12-22T21:50:00+00:00",
    endDatetime: "2020-13-22T01:15:00+00:00",
    applicationIds: [5501, 5519],
    practice: {
      id: "10019",
      name: "The pink clinic",
    },
    locum: null,
    hourlyRate: 95,
    staffType: "gp",
    staffTypeId: "1",
  },
  {
    id: "1251",
    status: "POSTED",
    startDatetime: "2020-11-22T16:50:00+00:00",
    endDatetime: "2020-11-22T19:15:00+00:00",
    applicationIds: [5528, 5534, 5535, 5594],
    practice: {
      id: "84119",
      name: "Le meuilleur hopital",
    },
    locum: null,
    hourlyRate: 110,
    staffType: "Consultant",
    staffTypeId: "7",
  },
];

test("should only return POSTED shifts", () => {
  const filteredShifts = filterShifts(shifts, "gp");
  expect(filteredShifts).toEqual(
    expect.arrayContaining([
      expect.objectContaining({
        status: "POSTED",
      }),
    ]),
  );
});

// it would be good to test more than just the status
